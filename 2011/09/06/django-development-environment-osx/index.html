<!DOCTYPE html>
<html lang="en-us">
    <head>
         
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Django development environment on OSX</title>
        <style>

    html body {
        font-family: 'Raleway', sans-serif;
        background-color: white;
    }

    :root {
        --accent: gray;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="https://dimamoroz.com//css/main.css">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">


 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-dark.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
 


    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

     <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/haskell.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/kotlin.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/scala.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/xml.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/nginx.min.js"></script> 

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.32.2" />
        
        
        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-11219276-3"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());

          gtag('config', 'UA-11219276-3');
        </script>
        
    </head>

    
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>

    <body>
         
        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Django development environment on OSX</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/blog/">Blog</a></li>
                            
                                <li><a href="/about/">About</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="https://github.com/dmrz/"><i class="fa fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://twitter.com/dimrz/"><i class="fa fa-twitter"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.linkedin.com/in/dimamoroz/"><i class="fa fa-linkedin"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.instagram.com/dmrz/"><i class="fa fa-instagram"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<main>

    <div class="item">

    
    
    

    
    

    <h4><a href="/2011/09/06/django-development-environment-osx/">Django development environment on OSX</a></h4>
    <h5>September 6, 2011</h5>
    
    <a href="https://dimamoroz.com/tags/django">
        <kbd class="item-tag">django</kbd>
    </a>
    
    <a href="https://dimamoroz.com/tags/python">
        <kbd class="item-tag">python</kbd>
    </a>
    
    <a href="https://dimamoroz.com/tags/mac">
        <kbd class="item-tag">mac</kbd>
    </a>
    
    <a href="https://dimamoroz.com/tags/osx">
        <kbd class="item-tag">osx</kbd>
    </a>
    

</div>


    <br> <div class="text-justify"><p>This post is mostly about how I install development environment for Python and Django on OS X and my experience. If you want just a quick installation guide, follow <a href="https://gist.github.com/902296">this link</a>, there is a really great tutorial about OSX Developer System installation.</p>

<p></p>

<p>I wrote a simple how-to about installing python virtual environment on Ubuntu, almost a year ago. Later it was extended with few posts about popular pitfalls and general problems. Through this year,
I was bootstrapping python virtual environment for Django development on different ubuntu/debian/gentoo boxes plenty of times and everything was always going fine. So this how-to is really helpful for me and (I hope) for you.</p>

<p>Since I became a mac user, the first urgent thing to do was installing and configuring development environment for Python and Django to get ready for a work. Prior to buying a mac, I was following all the related topics about Django development on OS X. I saw there some problems and tedious moments, but I was sure that won&rsquo;t be hard and everything will work fine. Eventually, it was much easier than I excpected.</p>

<p>I am really new to the mac and os x world, so I can be deeply mistaken. I have followed the steps in this tutorial to setup development environment for Django and everything works like a charm, though. So practical part of this post seems to be working. I am always opened for your feedbacks and fixes.</p>

<p>OS X has UNIX shell in the core, almost the same as the one I used to on Linux (but with some not that often valuable differences, e.g. built-in commands are BSD-like), so there is no reason to have any problem to run python scripts and other console-related-stuff. The weak point is handling system-wide dependencies, since OS X has no native package manager or so. You can go dirty old school and compile missing dependencies manually. But it is XXI century outdoors, we have a lot of smart guys, who are ready to fill the gaps of the world&rsquo;s most advanced operating system. So there are some crafty third-party sort-of-package-managers for OS X, like <a href="http://www.macports.org/">Macports</a>, <a href="http://www.finkproject.org/">Fink</a>, <a href="http://mxcl.github.com/homebrew/">Homebrew</a> and others. I chose Homebrew, as the most spoken-about in communities I follow, with positive feedbacks. I can admit it&rsquo;s a mainstream. It is pretty easy and weird (as for a person who was living in a Linux world and used to tools like apt and emerge) to install. I was doing this install on both Snow Leopard and Lion distributions (with only one difference in installing graphicsmagick using Homebrew on Lion).</p>

<p>So the first thing we do is checking for requirements, we need to have Xcode 4 installed (it is free of charge for Lion, you can get it from the App Store) and X11 as Homebrew installation guide says (it is installed by default in Snow Leopard). Actually the main requirement of Xcode is that it provides gcc and many people complain about they have to install a huge package only to have gcc installed. There is a gcc implementation without installing Xcode <a href="https://github.com/kennethreitz/osx-gcc-installer">osx-gcc-installer</a> but I did not try it though (I was noticed about this one on twitter other day, so I suppose it is immature, but probably a really good way to go in the nearest future). If requirements are satisfied, we can go further with installation:</p>

<p>###1. Installing Homebrew.
Looks weird as I have mentioned above. You can explore a script on the given url if you need explanations.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ruby -e <span class="s2">&#34;</span><span class="k">$(</span>curl -fsSL https://raw.github.com/mxcl/homebrew/go<span class="k">)</span><span class="s2">&#34;</span></code></pre></div>
<p>This is retrieving a script source from gist and like &ldquo;piping&rdquo; it to the ruby interpereter. It will prompt you for your password (since it requires a write access to /usr/local/). When it&rsquo;s done, you can run brew command to install packages.</p>

<p>###2. Configuring system paths.
Homebrew installs everything to /usr/local, so we need it to be in the beginning of our $PATH same as python software installed using brew (to override system wide). So we add the next line to our ~/.bashrc (either ~/.bash_profile or ~/.zshrc):</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span>/usr/local/bin:/usr/local/share/python:<span class="nv">$PATH</span></code></pre></div>
<p>###3. Installing and configuring django development environment.
I can&rsquo;t imagine my daily workflow with python and django without using python virtual environment and I guess so are you.</p>

<p>The first thing I do is updating Python to the latest 2.x version:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ brew install python</code></pre></div>
<p>Restart terminal afterwards, to make sure fresh python is used by default.</p>

<p><del>Then I install pip using easy_install, but firstly we check that the correct easy_installed will be used:</del></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ which easy_install
/usr/local/share/python/easy_install <span class="c1"># This is correct
</span><span class="c1"></span>$ easy_install pip</code></pre></div>
<p><em>UPDATE:</em> As of a version 2.7.5, python package currently has pip pre-installed, so the above snippet is obscure.</p>

<p>When pip is installed, you can follow <a href="http://dimamoroz.com/blog/2-python-virtual-environment-ubuntu/">my simple tutorial</a> and install python virtual environment in the same manner, with only few difference.</p>

<p>We use pip without sudo command:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ pip install virtualenv virtualenvwrapper</code></pre></div>
<p>We source from the other path file, so the lines we put to ~/.bashrc (either ~/.bash_profile or ~/.zshrc) are:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">export</span> <span class="nv">WORKON_HOME</span><span class="o">=</span><span class="nv">$HOME</span>/.virtualenvs
<span class="nb">source</span> /usr/local/bin/virtualenvwrapper.sh</code></pre></div>
<p>If you need lazy loading of virtualenvwrapper (makes shell start faster, though tab completion for wrapper is only available after the first command is ran):</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">export</span> <span class="nv">WORKON_HOME</span><span class="o">=</span><span class="nv">$HOME</span>/.virtualenvs
<span class="nb">export</span> <span class="nv">VIRTUALENVWRAPPER_SCRIPT</span><span class="o">=</span>/usr/local/bin/virtualenvwrapper.sh
<span class="nb">source</span> /usr/local/bin/virtualenvwrapper_lazy.sh</code></pre></div>
<p>And then we restart terminal, so virtualenv can be initialized and we can use virtualenv and virtualenvwrapper as usual.</p>

<p>When I was moving to OSX, I heard a lot about problems installing PIL using pip on macs. I was wondered when I didn&rsquo;t face any problem installing it using brew:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ brew install libjpeg
$ brew install lcms <span class="c1"># If needed
</span><span class="c1"></span>$ brew install libtiff <span class="c1"># If needed
</span><span class="c1"></span>$ pip install PIL</code></pre></div>
<p>###4. Installing PostgreSQL.
I use PostgreSQL, so the following is about how to install and setup PostgreSQL on OSX using brew for my needs. This is totally covered at the <a href="https://gist.github.com/902296">OSX Developer System installation</a>, if you are MySQL user, you can find necessary documentation there as well.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ <span class="nv">PYTHON</span><span class="o">=</span>/usr/local/bin/python  brew install postgresql
$ initdb /usr/local/var/postgres
$ cp /usr/local/Cellar/postgresql/9.0.4/org.postgresql.postgres.plist ~/Library/LaunchAgents/
$ launchctl load -w ~/Library/LaunchAgents/org.postgresql.postgres.plist</code></pre></div>
<p>This will install posgres, initialize default data, run postgres and make it always running when system starts. You can now check installation by running:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ createdb mytestdb
$ dropdb mytestdb</code></pre></div>
<p>And it has to be flown smoothly.</p>

<p>Then you can install python postgresql adaptor within your virutalenvironment:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ pip install psycopg2</code></pre></div>
<p>If your setup requires some additional tools or libraries, you can search them using brew search</p></div>

    
    

    

    

        <h4 class="page-header">Comments</h4>

        <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "foomor" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    

</main>

        <footer>

            <p class="copyright text-muted">&copy; All rights reserved. Powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a></p>

        </footer>
       
    </body>

</html>

